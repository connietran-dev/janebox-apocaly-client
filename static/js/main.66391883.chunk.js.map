{"version":3,"sources":["components/Home.js","components/SetPlayer.js","apiConfig.js","components/PlayerList.js","components/TeamLog.js","components/Email.js","components/GameContent.js","components/PlayGame.js","components/GameOver.js","components/App.js","index.js"],"names":["Home","socket","useState","game","setGame","useEffect","str","Math","random","toString","substring","toUpperCase","className","to","type","onChange","event","target","value","onClick","preventDefault","apiUrls","apiUrl","window","location","hostname","PlayerList","users","length","map","name","key","SetPlayer","setName","setUsers","msg","setMsg","err","setErr","ENDPOINT","search","io","on","res","text","filter","user","id","placeholder","document","getElementById","style","display","emit","off","TeamLog","x","Email","src","alt","GameContent","index","setIndex","onSubmit","slides","console","log","prompt","scene","question","choices","answer","PlayGame","title","setTitle","descrip","setDescrip","major","children","classList","add","GameOver","App","component","exact","path","ReactDOM","render","basename"],"mappings":"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","file":"static/js/main.66391883.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction Home() {\n  const [game, setGame] = useState('')\n\n  useEffect(() => {\n    const str = Math.random().toString(36).substring(2, 6).toUpperCase()\n    setGame(str)\n  }, [])\n\n  return (\n    <section className=\"Home\">\n      <h1>S u r <span>V i r a l</span></h1>\n      <p>Your university's abandoned you..<br /> a virus is on the loose..<br /> and your\n      friends are all you have</p>\n      <p><em>Do you have what it takes to make it\n      out alive?</em></p>\n      <section className=\"menu\">\n        <Link className=\"menu-opt\" to={`/set-player?game=${game}/host/`}>\n          <button className=\"admin-button\">New Game</button>\n        </Link>\n        <form className=\"menu-opt\">\n          {/* If game is blank, preventDefault */}\n          <input\n            className=\"input-field\"\n            type=\"text\"\n            onChange={(event) => setGame(event.target.value)}\n          />\n          <Link\n            onClick={event => (!game) ? event.preventDefault() : null}\n            to={`/set-player?game=${game}`}>\n            <input\n              className=\"admin-button\"\n              type=\"submit\"\n              value=\"Join Game\" />\n          </Link>\n        </form>\n      </section>\n    </section>\n  )\n}\n\nexport default Home\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { useState, useEffect } from 'react'\nimport io from 'socket.io-client'\nimport apiUrl from '../apiConfig'\n\nimport PlayerList from './PlayerList'\n\nlet socket;\n\nfunction SetPlayer({ location }) {\n  const [name, setName] = useState('')\n  const [game, setGame] = useState('')\n  const [users, setUsers] = useState([])\n  const [msg, setMsg] = useState('')\n  const [err, setErr] = useState('')\n  const ENDPOINT = apiUrl\n\n  // Socket emitter for joining game\n  function joinUsertoGame(event) {\n    event.preventDefault()\n    if (users.length === 5) {\n      setErr('Sorry! Only 5 can play, better luck next time!')\n    } else if (name) {\n      setErr('')\n      document.getElementById('username-form').style.display = 'none'\n      document.getElementById('msg-txt').style.display = 'block'\n      setName(event.target.value)\n\n      // Pass callback to execute after socket.emit\n      socket.emit('join', { name, game }, () => {})\n\n      // For unmounting of the component when user leaves game, emit disconnect event and turn socket\n      return () => {\n        socket.emit('disconnect')\n\n        socket.off()\n      }\n    } else {\n      setErr('Please enter a name (any name! be creative!)')\n    }\n\n  }\n\n  useEffect(() => {\n    const game = location.search.substring(6, 10)\n    setGame(game)\n\n    socket = io(ENDPOINT)\n\n    socket.on('message', res => {\n      setMsg(res.text)\n    })\n\n    socket.on('roomData', ({ users }) => {\n      setUsers(users.filter(user => user.game === game))\n    })\n  }, [msg, location, ENDPOINT]);\n\n  return (\n    <section className=\"Set-Player\">\n      {\n        (location.search.substring(10))\n        ? <h2 className=\"gameid-mark\">Your Game ID is: {game}</h2>\n        : <></>\n      }\n      <form id=\"username-form\">\n        <h1>C h o o s e<span>Y o u r</span><br />C h a r a c t e r</h1>\n        <input\n          className=\"input-field\"\n          type=\"text\"\n          placeholder=\"Name\"\n          onChange={(event) => setName(event.target.value)}\n        />\n        <button onClick={joinUsertoGame} className=\"admin-button\" type=\"submit\">I'm Ready!</button>\n        <p className='err-msg'>{err}</p>\n      </form>\n      <p id=\"msg-txt\" className=\"msg-txt\">{msg}</p>\n      <PlayerList users={users} />\n      {\n        (location.search.substring(10))\n        ? <Link to={`/play?game=${game}&name=${name}`}>\n            <button id=\"all-ready\" className=\"admin-button\">We're ready!</button>\n          </Link>\n        : <></>\n      }\n    </section>\n  )\n\n}\n\nexport default SetPlayer;\n","let apiUrl\n\nconst apiUrls = {\n  production: 'https://surviral-server.herokuapp.com/',\n  development: 'localhost:5000'\n}\n\nif (window.location.hostname === 'localhost') {\n  apiUrl = apiUrls.development\n} else {\n  apiUrl = apiUrls.production\n}\n\nexport default apiUrl\n","import React from 'react';\n\nconst PlayerList = ({ users }) => (\n    <section className=\"Player-List\">\n        { users.length > 0\n          ? (<div>\n              <h3>Players in your party:</h3>\n              <ul>\n                {users.map(({ name }) => ( <li key={name} > {name} </li>))}\n              </ul>\n            </div>)\n          : (<div><h1>There is no one in your party yet</h1></div>)}\n    </section>\n);\n\nexport default PlayerList;\n","import React from 'react';\n\nconst TeamLog = ({ users }) => {\n  function toggleTeamLog() {\n    var x = document.getElementById('players-ul')\n    if (x.style.display === \"none\") {\n      x.style.display = \"inline-block\";\n    } else {\n      x.style.display = \"none\";\n    }\n  }\n\n  return (\n  <section className=\"team-log\">\n    <div className=\"team-log-btn\" onClick={toggleTeamLog}>\n      <h5>Team Log</h5>\n      <p>+</p>\n    </div>\n    { users.length > 0\n      ? (<ul id=\"players-ul\">{users.map(({ name }) => ( <li key={name} > {name} </li>))}</ul>)\n      : (<div><p>No one's playing?</p></div>)}\n  </section>\n)}\n\nexport default TeamLog;\n","import React from 'react'\n\nconst Email = () => {\n  function closeModal() {\n    document.getElementById('email').style.display = \"none\"\n  }\n  return (\n    <section id=\"email\" className=\"Email\">\n      <button onClick={closeModal}></button>\n      <img src=\"\" alt=\"\" />\n    </section>\n  )\n}\n\nexport default Email\n","import React, { useState } from 'react'\n\nimport slides from '../slides.json'\n\nconst GameContent = () => {\n  const [index, setIndex] = useState(0)\n\n  function submitAnswer(event) {\n    event.preventDefault()\n    if (index === slides.length - 1) {\n      console.log('last question!')\n    } else {\n      const incr = index + 1\n      setIndex(incr)\n    }\n  }\n\n  return (\n    <section className=\"game-content\">\n      <form onSubmit={submitAnswer}className=\"card\">\n        <h2>{slides[index].prompt.scene}</h2>\n        <p>{slides[index].prompt.question}</p>\n        <select id=\"majors\" name=\"majors\">\n          <option value={2}>{slides[index].choices[2].answer}</option>\n          <option value={1}>{slides[index].choices[1].answer}</option>\n          <option value={0}>{slides[index].choices[0].answer}</option>\n          <option value={4}>{slides[index].choices[4].answer}</option>\n          <option value={3}>{slides[index].choices[3].answer}</option>\n        </select>\n        <input type=\"submit\"></input>\n      </form>\n    </section>\n  )\n}\n\nexport default GameContent\n","import React, { useState, useEffect }  from 'react'\nimport { Link } from 'react-router-dom'\nimport io from 'socket.io-client'\n\nimport apiUrl from '../apiConfig'\n\nimport TeamLog from './TeamLog'\nimport Email from './Email'\nimport GameContent from './GameContent'\n\nlet socket;\n\nexport default function PlayGame({ location }) {\n  const [users, setUsers] = useState([])\n  const [title, setTitle] = useState('')\n  const [descrip, setDescrip] = useState('')\n  const ENDPOINT = apiUrl\n\n  function chooseMajor(event) {\n    event.preventDefault()\n    const major = event.target.children[1].value\n\n    document.getElementById('profile-img').classList.add(major)\n    switch(major) {\n      case 'engineering':\n        setTitle('The Engineer')\n        setDescrip('You’ll be responsible for rebuilding a whole new world… Sounds like a lot of work.')\n        break;\n      case 'chemistry':\n        setTitle('The Chemist')\n        setDescrip('Found a vaccine yet? No? Well that baking soda and vinegar volcano is pretty cool too.')\n        break;\n      case 'political-science':\n        setTitle('The PoliSci Guy')\n        setDescrip('Down with the government! Anarchy!')\n        break;\n      case 'business':\n        setTitle('Business Lady')\n        setDescrip('You breifly reflect on if capitalism might be to blame for all of this death and despair… Nah, it’s Millennials’ fault.')\n        break;\n      case 'photography':\n        setTitle('The Photographer')\n        setDescrip('At least when the world burns, you won’t have to figure out how to pay back all that college debt.')\n        break;\n      default:\n    }\n\n    document.getElementById('player-profile').style.display = 'block'\n    document.getElementById('char-choice').style.display = 'none'\n  }\n\n  useEffect(() => {\n    const game = location.search.substring(6, 10)\n\n    socket = io(ENDPOINT)\n\n    socket.on('roomData', ({ users }) => {\n      setUsers(users.filter(user => user.game === game))\n    })\n  }, [location, ENDPOINT]);\n\n  return (\n    <section className=\"Play-Game\">\n      <Email />\n      <Link to=\"/game-over\">\n        <button className=\"admin-button\">X</button>\n      </Link>\n      <main>\n        <TeamLog users={users} />\n        <GameContent />\n        <form id=\"char-choice\" onSubmit={chooseMajor} className=\"char-choice\">\n          <p>Not the semester you imagined... but you still gotta study.\n           <br/><span>What's your major?</span></p>\n          <select id=\"majors\" name=\"majors\">\n            <option value=\"engineering\">Engineering</option>\n            <option value=\"chemistry\">Chemistry</option>\n            <option value=\"political-science\">Political Science</option>\n            <option value=\"business\">Business</option>\n            <option value=\"photography\">Photography</option>\n          </select>\n          <input type=\"submit\"></input>\n        </form>\n        <section id=\"player-profile\" className=\"player-profile\">\n          <img id=\"profile-img\" src=\"\" alt=\"\" />\n          <section className=\"char-descrip\">\n            <h3>{title}</h3>\n            <p>{descrip}</p>\n          </section>\n        </section>\n      </main>\n    </section>\n  )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nexport default function GameOver() {\n  const msg = result => {\n    if (result === 'win') {\n      return 'Congrats! You won!'\n    } else {\n      return \"Damn... You lost :'(\"\n    }\n  }\n  return (\n    <section className=\"Game-Over\">\n      <h1>G a m e - O v e r</h1>\n      <p className=\"end-msg\">{msg('lose')}</p>\n      <Link to=\"/\">\n        <button className=\"admin-button\">Play again!</button>\n      </Link>\n    </section>\n  )\n}\n","import React from 'react'\n\nimport { Route, Switch } from 'react-router-dom'\n\nimport Home from './Home'\nimport SetPlayer from './SetPlayer'\nimport PlayGame from './PlayGame'\nimport GameOver from './GameOver'\n\nfunction App() {\n  return (\n    <>\n      <Switch>\n        <Route component={Home} exact path=\"/\" />\n        <Route component={SetPlayer} path=\"/set-player\" />\n        <Route component={PlayGame} path=\"/play\" />\n        <Route component={GameOver} path=\"/game-over\" />\n      </Switch>\n    </>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom'\n\nimport App from './components/App';\nimport './style.scss'\n\nReactDOM.render(\n  <Router basename='/'>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}